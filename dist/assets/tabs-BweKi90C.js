import{p as n,H as d,h as i,F as b}from"./jsxFactory-BxQYPm-b.js";import{c as h}from"./observers-hu61Hn6M.js";/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.
 * v2.6.0
 */const p={titleGroup:"title-group"},m=":host{display:flex;flex-direction:column}:host([bordered]){box-shadow:inset 0 1px 0 var(--calcite-color-border-1);background-color:var(--calcite-color-foreground-1)}:host([bordered]:not([position=bottom])) ::slotted(calcite-tab-nav){margin-block-end:-1px}:host([bordered][position=bottom]){box-shadow:inset 0 1px 0 var(--calcite-color-border-1), inset 0 -1px 0 var(--calcite-color-border-1)}:host([bordered]) section{border-width:1px;border-style:solid;border-color:var(--calcite-color-border-1)}:host([bordered][scale=s]) section{padding:0.75rem}:host([bordered][scale=m]) section{padding:0.5rem}:host([bordered][scale=l]) section{padding:1rem}:host([position=bottom]){flex-direction:column-reverse}section{display:flex;flex-grow:1;overflow:hidden;border-block-start-width:1px;border-block-start-color:var(--calcite-color-border-1);border-block-start-style:solid}:host([position=bottom]) section{flex-direction:column-reverse;border-block-start-width:0px;border-block-end-width:1px;border-block-end-color:var(--calcite-color-border-1)}:host([position=bottom]:not([bordered])) section{border-block-end-style:solid}@media (forced-colors: active){:host([bordered]) section{border-block-start-width:0px;border-block-end-width:1px}:host([position=bottom][bordered]) section{border-block-start-width:1px;border-block-end-width:0px}}:host([hidden]){display:none}[hidden]{display:none}",u=n(class extends d{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.mutationObserver=h("mutation",t=>{for(const o of t){const e=o.target;(e.nodeName==="CALCITE-TAB-NAV"||e.nodeName==="CALCITE-TAB-TITLE"||e.nodeName==="CALCITE-TAB")&&this.updateItems()}}),this.layout="inline",this.position="top",this.scale="m",this.bordered=!1,this.titles=[],this.tabs=[]}handleInheritableProps(){this.updateItems()}connectedCallback(){this.mutationObserver.observe(this.el,{childList:!0}),this.updateItems()}async componentWillLoad(){this.updateItems()}disconnectedCallback(){var t;(t=this.mutationObserver)==null||t.disconnect()}render(){return i(b,null,i("slot",{name:p.titleGroup}),i("section",null,i("slot",null)))}calciteInternalTabTitleRegister(t){this.titles=[...this.titles,t.target],this.registryHandler(),t.stopPropagation()}calciteTabTitleUnregister(t){this.titles=this.titles.filter(o=>o!==t.detail),this.registryHandler(),t.stopPropagation()}calciteInternalTabRegister(t){this.tabs=[...this.tabs,t.target],this.registryHandler(),t.stopPropagation()}calciteTabUnregister(t){this.tabs=this.tabs.filter(o=>o!==t.detail),this.registryHandler(),t.stopPropagation()}updateItems(){const{position:t,scale:o}=this,e=this.el.querySelector("calcite-tab-nav");e&&(e.position=t,e.scale=o),Array.from(this.el.querySelectorAll("calcite-tab")).forEach(s=>{s.parentElement===this.el&&(s.scale=o)}),Array.from(this.el.querySelectorAll("calcite-tab-nav > calcite-tab-title")).forEach(s=>{s.position=t,s.scale=o})}async registryHandler(){let t,o;if(this.tabs.some(e=>e.tab)||this.titles.some(e=>e.tab))t=this.tabs.sort((e,s)=>e.tab.localeCompare(s.tab)).map(e=>e.id),o=this.titles.sort((e,s)=>e.tab.localeCompare(s.tab)).map(e=>e.id);else{const e=await Promise.all(this.tabs.map(r=>r.getTabIndex())),s=await Promise.all(this.titles.map(r=>r.getTabIndex()));t=e.reduce((r,a,l)=>(r[a]=this.tabs[l].id,r),[]),o=s.reduce((r,a,l)=>(r[a]=this.titles[l].id,r),[])}this.tabs.forEach(e=>e.updateAriaInfo(t,o)),this.titles.forEach(e=>e.updateAriaInfo(t,o))}get el(){return this}static get watchers(){return{position:["handleInheritableProps"],scale:["handleInheritableProps"]}}static get style(){return m}},[1,"calcite-tabs",{layout:[513],position:[513],scale:[513],bordered:[4],titles:[32],tabs:[32]},[[0,"calciteInternalTabTitleRegister","calciteInternalTabTitleRegister"],[16,"calciteTabTitleUnregister","calciteTabTitleUnregister"],[0,"calciteInternalTabRegister","calciteInternalTabRegister"],[16,"calciteTabUnregister","calciteTabUnregister"]],{position:["handleInheritableProps"],scale:["handleInheritableProps"]}]);function g(){if(typeof customElements>"u")return;["calcite-tabs"].forEach(t=>{switch(t){case"calcite-tabs":customElements.get(t)||customElements.define(t,u);break}})}g();export{u as T,g as d};
