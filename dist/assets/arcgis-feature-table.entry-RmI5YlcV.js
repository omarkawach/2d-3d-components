import{aA as h,aB as l,aC as d,aD as a}from"./index-8ERthB3p.js";import{x as n,y as r,i as m}from"./index-f6afcedb-CZuD5wYN.js";import{r as o,i as c,c as g,a as s}from"./component-utils-858627d8-DRqmNtSu.js";import{o as u}from"./disconnected-e221dd46-DyoRKtII.js";/*!
 * All material copyright Esri, All Rights Reserved, unless otherwise specified.
 * See https://js.arcgis.com/4.29/esri/copyright.txt for details.
 * v4.29.10
 */const b=".arcgis-feature-table{width:100%;height:100%}",f=class{constructor(e){h(this,e),this.arcgisFeatureTableReady=l(this,"arcgisFeatureTableReady",7),this.featureTableSelectionChange=l(this,"featureTableSelectionChange",7),this._watchHandles=[],this.referenceElement=void 0,this.activeFilters=void 0,this.activeSortOrders=[],this.attachmentsEnabled=!1,this.autoRefreshEnabled=!0,this.columnReorderingEnabled=!0,this.columns=void 0,this.editingEnabled=!1,this.filterGeometry=void 0,this.hiddenFields=!0,this.highlightEnabled=!0,this.highlightIds=void 0,this.layer=void 0,this.menu=void 0,this.menuConfig=void 0,this.multiSortEnabled=!1,this.pageSize=50,this.returnGeometryEnabled=!1,this.state=void 0,this.tableTemplate=void 0,this.timeZone=void 0,this.itemId=void 0,this.url=void 0,this.visibleElementsHeader=!0,this.visibleElementsMenu=!0,this.visibleElementsSelectionColumn=!0,this.visibleElementsColumnMenus=!0,this.visibleElementsMenuItemsClearSelection=!0,this.visibleElementsMenuItemsDeleteSelection=!0,this.visibleElementsMenuItemsRefreshData=!0,this.visibleElementsMenuItemsSelectedRecordsShowAllToggle=!0,this.visibleElementsMenuItemsToggleColumns=!0,this.visibleElementsMenuItemsZoomToSelection=!0,this.view=void 0,this.widget=void 0}referenceElementWatcher(e){o(this,e)}attachmentsEnabledWatcher(e){e!==void 0&&this.widget&&(this.widget.attachmentsEnabled=e)}autoRefreshEnabledWatcher(e){e!==void 0&&this.widget&&(this.widget.autoRefreshEnabled=e)}columnReorderingEnabledWatcher(e){e!==void 0&&this.widget&&(this.widget.columnReorderingEnabled=e)}editingEnabledWatcher(e){e!==void 0&&this.widget&&(this.widget.editingEnabled=e)}filterGeometryWatcher(e){e&&this.widget&&(this.widget.filterGeometry=e)}hiddenFieldsWatcher(e){e&&this.widget&&(this.widget.hiddenFields=e)}highlightEnabledWatcher(e){e!==void 0&&this.widget&&(this.widget.highlightEnabled=e)}highlightIdsWatcher(e){e&&this.widget&&(this.widget.highlightIds=e)}layerWatcher(e){e&&this.widget?this.widget.layer=e:e||(this.widget.layer=null)}menuConfigWatcher(e){e&&this.widget&&(this.widget.menuConfig=e)}multiSortEnabledWatcher(e){e!==void 0&&this.widget&&(this.widget.multiSortEnabled=e)}pageSizeWatcher(e){e!==void 0&&this.widget&&(this.widget.pageSize=e)}returnGeometryEnabledWatcher(e){e!==void 0&&this.widget&&(this.widget.returnGeometryEnabled=e)}tableTemplateWatcher(e){e&&this.widget&&(this.widget.tableTemplate=e)}timeZoneWatcher(e){this.widget&&(this.widget.timeZone=e)}async itemIdWatcher(e,t){if(c(e))this.layer=null;else if(e&&e!==t){const i=await n({portalItem:{id:e}});this.layer=i}}async urlWatcher(e,t){if(e&&e!==t){const i=await n({url:e});this.layer=i}}visibleElementsHeaderWatcher(e){this.widget&&(this.widget.visibleElements={...this.widget.visibleElements,header:e})}visibleElementsMenuWatcher(e){this.widget&&(this.widget.visibleElements={...this.widget.visibleElements,menu:e})}visibleElementsSelectionColumnWatcher(e){this.widget&&(this.widget.visibleElements={...this.widget.visibleElements,selectionColumn:e})}visibleElementsColumnMenusWatcher(e){this.widget&&(this.widget.visibleElements={...this.widget.visibleElements,columnMenus:e})}visibleElementsMenuItemsClearSelectionWatcher(e){this.widget&&(this.widget.visibleElements={...this.widget.visibleElements,menuItems:{...this.widget.visibleElements.menuItems,clearSelection:e}})}visibleElementsMenuItemsDeleteSelectionWatcher(e){this.widget&&(this.widget.visibleElements={...this.widget.visibleElements,menuItems:{...this.widget.visibleElements.menuItems,deleteSelection:e}})}visibleElementsMenuItemsRefreshDataWatcher(e){this.widget&&(this.widget.visibleElements={...this.widget.visibleElements,menuItems:{...this.widget.visibleElements.menuItems,refreshData:e}})}visibleElementsMenuItemsSelectedRecordsShowAllToggleWatcher(e){this.widget&&(this.widget.visibleElements={...this.widget.visibleElements,menuItems:{...this.widget.visibleElements.menuItems,selectedRecordsShowAllToggle:e}})}visibleElementsMenuItemsToggleColumnsWatcher(e){this.widget&&(this.widget.visibleElements={...this.widget.visibleElements,menuItems:{...this.widget.visibleElements.menuItems,toggleColumns:e}})}visibleElementsMenuItemsZoomToSelectionWatcher(e){this.widget&&(this.widget.visibleElements={...this.widget.visibleElements,menuItems:{...this.widget.visibleElements.menuItems,zoomToSelection:e}})}viewWatcher(e){e!==void 0&&this.widget&&(this.widget.view=e)}async clearSelectionFilter(){var e;(e=this.widget)==null||e.clearSelectionFilter()}async deleteSelection(e){var t;await((t=this.widget)==null?void 0:t.deleteSelection(e))}async filterBySelection(){var e;(e=this.widget)==null||e.filterBySelection()}async findColumn(e){var t;return(t=this.widget)==null?void 0:t.findColumn(e)}async hideColumn(e){var t;(t=this.widget)==null||t.hideColumn(e)}async refresh(){var e;await((e=this.widget)==null?void 0:e.refresh())}async scrollToIndex(e){var t;(t=this.widget)==null||t.scrollToIndex(e)}async showAllColumns(){var e;(e=this.widget)==null||e.showAllColumns()}async showColumn(e){var t;(t=this.widget)==null||t.showColumn(e)}async sortColumn(e,t){var i;(i=this.widget)==null||i.sortColumn(e,t)}async zoomToSelection(){var e;(e=this.widget)==null||e.zoomToSelection()}async componentDidLoad(){const e=await this._createParams(),t=await r(e);this.widget=t,await this._addWatchers(),this._proxyEvents(),this._addContainer(),this.arcgisFeatureTableReady.emit(),g(this)}disconnectedCallback(){u(this)}render(){return d("div",{class:"arcgis-feature-table",ref:e=>this.childElem=e})}_addContainer(){this.widget.container=this.childElem}async _addWatchers(){const{watch:e}=await m();s(this,e(()=>this.widget.activeFilters,t=>this.activeFilters=t,{initial:!0})),s(this,e(()=>this.widget.activeSortOrders,t=>this.activeSortOrders=t,{initial:!0})),s(this,e(()=>this.widget.columns,t=>this.columns=t,{initial:!0})),s(this,e(()=>this.widget.menu,t=>this.menu=t,{initial:!0})),s(this,e(()=>this.widget.state,t=>this.state=t,{initial:!0}))}async _createParams(){const e={};return e.visibleElements={header:this.visibleElementsHeader,menu:this.visibleElementsMenu,selectionColumn:this.visibleElementsSelectionColumn,columnMenus:this.visibleElementsColumnMenus,menuItems:{clearSelection:this.visibleElementsMenuItemsClearSelection,deleteSelection:this.visibleElementsMenuItemsDeleteSelection,refreshData:this.visibleElementsMenuItemsRefreshData,selectedRecordsShowAllToggle:this.visibleElementsMenuItemsSelectedRecordsShowAllToggle,toggleColumns:this.visibleElementsMenuItemsToggleColumns,zoomToSelection:this.visibleElementsMenuItemsZoomToSelection}},this.view&&(e.view=this.view),this.attachmentsEnabled!==void 0&&(e.attachmentsEnabled=this.attachmentsEnabled),this.autoRefreshEnabled!==void 0&&(e.autoRefreshEnabled=this.autoRefreshEnabled),this.columnReorderingEnabled!==void 0&&(e.columnReorderingEnabled=this.columnReorderingEnabled),this.editingEnabled!==void 0&&(e.editingEnabled=this.editingEnabled),this.filterGeometry!==void 0&&(e.filterGeometry=this.filterGeometry),this.hiddenFields!==void 0&&(e.hiddenFields=this.hiddenFields),this.highlightEnabled!==void 0&&(e.highlightEnabled=this.highlightEnabled),this.highlightIds!==void 0&&(e.highlightIds=this.highlightIds),this.menuConfig!==void 0&&(e.menuConfig=this.menuConfig),this.multiSortEnabled!==void 0&&(e.multiSortEnabled=this.multiSortEnabled),this.pageSize!==void 0&&(e.pageSize=this.pageSize),this.tableTemplate!==void 0&&(e.tableTemplate=this.tableTemplate),this.timeZone!==void 0&&(e.timeZone=this.timeZone),this.layer!==void 0?e.layer=this.layer:this.url?e.layer=await n({url:this.url}):this.itemId&&(e.layer=await n({portalItem:{id:this.itemId}})),e}_proxyEvents(){var e;(e=this.widget)==null||e.highlightIds.on("change",t=>this.featureTableSelectionChange.emit(t))}get el(){return a(this)}static get watchers(){return{referenceElement:["referenceElementWatcher"],attachmentsEnabled:["attachmentsEnabledWatcher"],autoRefreshEnabled:["autoRefreshEnabledWatcher"],columnReorderingEnabled:["columnReorderingEnabledWatcher"],editingEnabled:["editingEnabledWatcher"],filterGeometry:["filterGeometryWatcher"],hiddenFields:["hiddenFieldsWatcher"],highlightEnabled:["highlightEnabledWatcher"],highlightIds:["highlightIdsWatcher"],layer:["layerWatcher"],menuConfig:["menuConfigWatcher"],multiSortEnabled:["multiSortEnabledWatcher"],pageSize:["pageSizeWatcher"],returnGeometryEnabled:["returnGeometryEnabledWatcher"],tableTemplate:["tableTemplateWatcher"],timeZone:["timeZoneWatcher"],itemId:["itemIdWatcher"],url:["urlWatcher"],visibleElementsHeader:["visibleElementsHeaderWatcher"],visibleElementsMenu:["visibleElementsMenuWatcher"],visibleElementsSelectionColumn:["visibleElementsSelectionColumnWatcher"],visibleElementsColumnMenus:["visibleElementsColumnMenusWatcher"],visibleElementsMenuItemsClearSelection:["visibleElementsMenuItemsClearSelectionWatcher"],visibleElementsMenuItemsDeleteSelection:["visibleElementsMenuItemsDeleteSelectionWatcher"],visibleElementsMenuItemsRefreshData:["visibleElementsMenuItemsRefreshDataWatcher"],visibleElementsMenuItemsSelectedRecordsShowAllToggle:["visibleElementsMenuItemsSelectedRecordsShowAllToggleWatcher"],visibleElementsMenuItemsToggleColumns:["visibleElementsMenuItemsToggleColumnsWatcher"],visibleElementsMenuItemsZoomToSelection:["visibleElementsMenuItemsZoomToSelectionWatcher"],view:["viewWatcher"]}}};f.style=b;export{f as arcgis_feature_table};
