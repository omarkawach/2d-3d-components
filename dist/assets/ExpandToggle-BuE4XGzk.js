import{h as E,f as S}from"./jsxFactory-BxQYPm-b.js";import{g as b}from"./dom-BvFmd0Ey.js";import{S as a}from"./action-group-COr3dt9S.js";import{S as p}from"./action-menu-BfqOv3CZ.js";/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.
 * v2.6.0
 */const D=150,T=2,m=o=>o.reduce((t,e)=>t+e,0)/o.length,R=o=>{const t=o.filter(n=>n.slot!==a.menuActions),e=t==null?void 0:t.length;return{actionWidth:e?m(t.map(n=>n.clientWidth||0)):0,actionHeight:e?m(t.map(n=>n.clientHeight||0)):0}},I=({width:o,actionWidth:t,layout:e,height:n,actionHeight:i,groupCount:r})=>{const c=e==="horizontal"?o:n,s=e==="horizontal"?t:i;return Math.floor((c-r*T)/s)},W=({layout:o,actionCount:t,actionWidth:e,width:n,actionHeight:i,height:r,groupCount:c})=>Math.max(t-I({width:n,actionWidth:e,layout:o,height:r,actionHeight:i,groupCount:c}),0),A=o=>Array.from(o.querySelectorAll("calcite-action")).filter(t=>t.closest("calcite-action-menu")?t.slot===p.trigger:!0),z=({actionGroups:o,expanded:t,overflowCount:e})=>{let n=e;o.reverse().forEach(i=>{let r=0;const c=A(i).reverse();c.forEach(s=>{s.slot===a.menuActions&&(s.removeAttribute("slot"),s.textEnabled=t)}),n>0&&c.some(s=>(c.filter(u=>!u.slot).length>1&&c.length>2&&!s.closest("calcite-action-menu")&&(s.textEnabled=!0,s.setAttribute("slot",a.menuActions),r++,r>1&&n--),n<1)),S(i)})},v={chevronsLeft:"chevrons-left",chevronsRight:"chevrons-right"};function L(o,t){var e;return o||((e=t.closest("calcite-shell-panel"))==null?void 0:e.position)||"start"}function H({el:o,expanded:t}){A(o).filter(e=>e.slot!==a.menuActions).forEach(e=>e.textEnabled=t),o.querySelectorAll("calcite-action-group, calcite-action-menu").forEach(e=>e.expanded=t)}const q=({tooltip:o,referenceElement:t,expanded:e,ref:n})=>(o&&(o.referenceElement=!e&&t?t:null),n&&n(t),t),N=({expanded:o,expandText:t,collapseText:e,toggle:n,el:i,position:r,tooltip:c,ref:s,scale:f})=>{const u=b(i)==="rtl",h=o?e:t,l=[v.chevronsLeft,v.chevronsRight];u&&l.reverse();const g=L(r,i)==="end",x=g?l[1]:l[0],d=g?l[0]:l[1];return E("calcite-action",{icon:o?x:d,onClick:n,scale:f,text:h,textEnabled:o,title:!o&&!c?h:null,ref:C=>q({tooltip:c,referenceElement:C,expanded:o,ref:s})})};export{N as E,z as a,W as b,R as g,D as o,A as q,H as t};
