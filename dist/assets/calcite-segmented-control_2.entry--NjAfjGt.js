import{r as m,e as u,h as a,H as p,g}from"./index-8ERthB3p.js";import{g as f,t as b}from"./dom-bea5da81-_E6DDA15.js";import{a as v,c as I,d as k,H as C}from"./form-3f199679-n9hgX90j.js";import{c as x,d as y,u as w,I as S}from"./interactive-a992f5df-DKTznAlu.js";import{c as z,d as A}from"./label-ce4d8e83-DSRVKKBm.js";import{s as E,a as L,c as D}from"./loadable-0092c6b2-CCLLZPvP.js";import{c as R}from"./observers-fe652afa-BKcjSNKG.js";import{V as F}from"./Validation-3bdaf762-pHCQNhI9.js";import"./guid-9a252389-Cgw_FQNn.js";import"./browser-26f0727c-UGQ_wQp7.js";import"./component-ec9f9062-CiBiWYk6.js";/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.
 * v2.6.0
 */const P={itemWrapper:"item-wrapper"},H=":host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:flex;flex-direction:column}.item-wrapper{display:flex;background-color:var(--calcite-color-foreground-1);inline-size:-moz-fit-content;inline-size:fit-content;outline:1px solid var(--calcite-color-border-input);outline-offset:-1px}:host([appearance=outline])>.item-wrapper{background-color:transparent}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}:host([layout=vertical])>.item-wrapper{flex-direction:column;align-items:flex-start;align-self:flex-start}:host([width=full])>.item-wrapper{inline-size:100%;min-inline-size:-moz-fit-content;min-inline-size:fit-content}:host([width=full])>.item-wrapper ::slotted(calcite-segmented-control-item){flex:1 1 auto}:host([width=full][layout=vertical])>.item-wrapper ::slotted(calcite-segmented-control-item){justify-content:flex-start}.validation-container{display:flex;flex-direction:column;align-items:flex-start;align-self:stretch}:host([scale=m]) .validation-container,:host([scale=l]) .validation-container{padding-block-start:0.5rem}:host([scale=s]) .validation-container{padding-block-start:0.25rem}::slotted(input[slot=hidden-form-input]){margin:0 !important;opacity:0 !important;outline:none !important;padding:0 !important;position:absolute !important;inset:0 !important;transform:none !important;-webkit-appearance:none !important;z-index:-1 !important}:host([hidden]){display:none}[hidden]{display:none}",O=class{constructor(e){m(this,e),this.calciteSegmentedControlChange=u(this,"calciteSegmentedControlChange",6),this.handleClick=t=>{this.disabled||t.target.localName==="calcite-segmented-control-item"&&this.selectItem(t.target,!0)},this.mutationObserver=R("mutation",()=>this.setUpItems()),this.appearance="solid",this.disabled=!1,this.form=void 0,this.required=!1,this.name=void 0,this.layout="horizontal",this.scale="m",this.value=null,this.selectedItem=void 0,this.status="idle",this.validationMessage=void 0,this.validationIcon=void 0,this.width="auto"}handlePropsChange(){this.handleItemPropChange()}valueHandler(e){this.getItems().forEach(i=>i.checked=i.value===e)}handleSelectedItemChange(e,t){if(this.value=e==null?void 0:e.value,e===t)return;const i=this.getItems(),n=i.filter(o=>o===e).pop();n?this.selectItem(n):i[0]&&(i[0].tabIndex=0)}componentWillLoad(){E(this),this.setUpItems()}componentDidLoad(){v(this,this.value),L(this)}connectedCallback(){var e;x(this),z(this),I(this),(e=this.mutationObserver)==null||e.observe(this.el,{childList:!0}),this.handleItemPropChange()}disconnectedCallback(){var e;y(this),A(this),k(this),(e=this.mutationObserver)==null||e.unobserve(this.el)}componentDidRender(){w(this)}render(){return a(p,{onClick:this.handleClick,role:"radiogroup"},a("div",{class:P.itemWrapper},a(S,{disabled:this.disabled},a("slot",null),a(C,{component:this}))),this.validationMessage&&this.status==="invalid"?a(F,{icon:this.validationIcon,message:this.validationMessage,scale:this.scale,status:this.status}):null)}handleSelected(e){e.preventDefault(),this.selectItem(e.target),e.stopPropagation()}handleKeyDown(e){const t=["ArrowLeft","ArrowUp","ArrowRight","ArrowDown"," "],{key:i}=e,{el:n,selectedItem:o}=this;if(t.indexOf(i)===-1)return;let l=i;f(n)==="rtl"&&(i==="ArrowRight"&&(l="ArrowLeft"),i==="ArrowLeft"&&(l="ArrowRight"));const s=this.getItems();let r=-1;switch(s.forEach((c,d)=>{c===o&&(r=d)}),l){case"ArrowLeft":case"ArrowUp":e.preventDefault();const c=r<1?s[s.length-1]:s[r-1];this.selectItem(c,!0);return;case"ArrowRight":case"ArrowDown":e.preventDefault();const d=r===-1?s[1]:s[r+1]||s[0];this.selectItem(d,!0);return;case" ":e.preventDefault(),this.selectItem(e.target,!0);return;default:return}}async setFocus(){var e;await D(this),(e=this.selectedItem||this.getItems()[0])==null||e.focus()}handleItemPropChange(){this.getItems().forEach(t=>{t.appearance=this.appearance,t.layout=this.layout,t.scale=this.scale})}onLabelClick(){this.setFocus()}getItems(){return Array.from(this.el.querySelectorAll("calcite-segmented-control-item"))}selectItem(e,t=!1){if(e===this.selectedItem)return;const i=this.getItems();let n=null;i.forEach(o=>{const l=o===e;(l&&!o.checked||!l&&o.checked)&&(o.checked=l),o.tabIndex=l?0:-1,l&&(n=o,t&&this.calciteSegmentedControlChange.emit())}),this.selectedItem=n,n&&n.focus()}setUpItems(){const e=this.getItems(),t=e.filter(i=>i.checked).pop();t?this.selectItem(t):e[0]&&(e[0].tabIndex=0)}get el(){return g(this)}static get watchers(){return{appearance:["handlePropsChange"],layout:["handlePropsChange"],scale:["handlePropsChange"],value:["valueHandler"],selectedItem:["handleSelectedItemChange"]}}};O.style=H;const U={input:"input"},h={segmentedControlItemIcon:"segmented-control-item-icon"},_=`:host{display:flex;cursor:pointer;align-self:stretch;font-weight:var(--calcite-font-weight-normal);transition:background-color var(--calcite-internal-animation-timing-fast) ease-in-out, border-color var(--calcite-animation-timing) ease-in-out}:host label{pointer-events:none;margin:0.125rem;box-sizing:border-box;display:flex;flex:1 1 0%;align-items:center;color:var(--calcite-color-text-3);transition:background-color var(--calcite-internal-animation-timing-fast) ease-in-out, border-color var(--calcite-internal-animation-timing-fast) ease-in-out, color var(--calcite-internal-animation-timing-fast) ease-in-out}.label--horizontal{justify-content:center}:host{outline-color:transparent}:host(:focus){outline:2px solid var(--calcite-ui-focus-color, var(--calcite-color-brand-hover, var(--calcite-color-brand)));outline-offset:calc(
            -2px *
            calc(
              1 -
              2 * clamp(
                0,
                var(--calcite-offset-invert-focus),
                1
              )
            )
          );outline-offset:-1px}.label--scale-s{padding-inline:0.5rem;font-size:var(--calcite-font-size--2);line-height:1rem;padding-block:0.125rem}.label--scale-m{padding-inline:0.75rem;font-size:var(--calcite-font-size--1);line-height:1rem;padding-block:0.375rem}.label--scale-l{padding-inline:1rem;padding-block:0.625rem;font-size:var(--calcite-font-size-0);line-height:1.25rem}:host(:hover) label{background-color:var(--calcite-color-foreground-2);color:var(--calcite-color-text-1)}:host(:active) label{background-color:var(--calcite-color-foreground-3)}:host([checked]) label{cursor:default;border-color:var(--calcite-color-brand);background-color:var(--calcite-color-brand);color:var(--calcite-color-text-inverse)}:host([checked]) .label--outline,:host([checked]) .label--outline-fill{border-color:var(--calcite-color-brand);background-color:var(--calcite-color-foreground-1);box-shadow:inset 0 0 0 1px var(--calcite-color-brand);color:var(--calcite-color-brand)}:host([checked]) .label--outline{background-color:transparent}::slotted(input){display:none}@media (forced-colors: active){:host([checked]) label{background-color:highlight}:host([checked]) .label--outline,:host([checked]) .label--outline-fill{outline:2px solid transparent;outline-offset:2px}:host([checked]) label:not([class~=label--outline]) .segmented-control-item-icon{color:highlightText}}.segmented-control-item-icon{position:relative;margin:0px;display:inline-flex;line-height:inherit}:host([icon-start]) .label--scale-s .segmented-control-item-icon{margin-inline-end:0.5rem}:host([icon-end]) .label--scale-s .segmented-control-item-icon{margin-inline-start:0.5rem}:host([icon-start]) .label--scale-m .segmented-control-item-icon{margin-inline-end:0.75rem}:host([icon-end]) .label--scale-m .segmented-control-item-icon{margin-inline-start:0.75rem}:host([icon-start]) .label--scale-l .segmented-control-item-icon{margin-inline-end:1rem}:host([icon-end]) .label--scale-l .segmented-control-item-icon{margin-inline-start:1rem}:host([hidden]){display:none}[hidden]{display:none}`,j=class{constructor(e){m(this,e),this.calciteInternalSegmentedControlItemChange=u(this,"calciteInternalSegmentedControlItemChange",6),this.checked=!1,this.iconFlipRtl=!1,this.iconStart=void 0,this.iconEnd=void 0,this.value=void 0,this.appearance="solid",this.layout="horizontal",this.scale="m"}handleCheckedChange(){this.calciteInternalSegmentedControlItemChange.emit()}render(){const{appearance:e,checked:t,layout:i,scale:n,value:o}=this,l=this.iconStart?a("calcite-icon",{class:h.segmentedControlItemIcon,flipRtl:this.iconFlipRtl,icon:this.iconStart,key:"icon-start",scale:"s"}):null,s=this.iconEnd?a("calcite-icon",{class:h.segmentedControlItemIcon,flipRtl:this.iconFlipRtl,icon:this.iconEnd,key:"icon-end",scale:"s"}):null;return a(p,{"aria-checked":b(t),"aria-label":o,role:"radio"},a("label",{class:{"label--scale-s":n==="s","label--scale-m":n==="m","label--scale-l":n==="l","label--horizontal":i==="horizontal","label--outline":e==="outline","label--outline-fill":e==="outline-fill"}},this.iconStart?l:null,a("slot",null,o),a("slot",{name:U.input}),this.iconEnd?s:null))}get el(){return g(this)}static get watchers(){return{checked:["handleCheckedChange"]}}};j.style=_;export{O as calcite_segmented_control,j as calcite_segmented_control_item};
