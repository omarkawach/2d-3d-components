import{o as t,y as r,aV as E,ei as u,X as d,bg as c,m5 as O,bC as j,d1 as D,P as T,ac as k}from"./index-8ERthB3p.js";import{e as U,n as N,s as x}from"./weather-D00pIeau.js";var h;let s=h=class extends c{constructor(e){super(e),this.type="sun",this.date=null,this.directShadowsEnabled=!1,this.displayUTCOffset=null}readDate(e,o){return o.datetime!=null&&new Date(o.datetime)||null}writeDate(e,o,n){o[n]=e.getTime()}readDirectShadowsEnabled(e,o){return!!o.directShadows}writedirectShadowsEnabled(e,o,n){e&&(o[n]=e)}writeDisplayUTCOffset(e,o){e!=null&&(o.displayUTCOffset=e)}clone(){return new h(this.cloneConstructProperties())}cloneConstructProperties(){const e={directShadowsEnabled:this.directShadowsEnabled,displayUTCOffset:this.displayUTCOffset!=null?this.displayUTCOffset:null};return this.date!=null&&(e.date=new Date(this.date.getTime())),e}};t([r({readOnly:!0,type:["sun"],json:{write:!0}})],s.prototype,"type",void 0),t([r({type:Date,json:{type:Number,write:{target:"datetime"}}})],s.prototype,"date",void 0),t([E("date",["datetime"])],s.prototype,"readDate",null),t([u("date")],s.prototype,"writeDate",null),t([r({type:Boolean,json:{default:!1,write:{target:"directShadows"}}})],s.prototype,"directShadowsEnabled",void 0),t([E("directShadowsEnabled",["directShadows"])],s.prototype,"readDirectShadowsEnabled",null),t([u("directShadowsEnabled")],s.prototype,"writedirectShadowsEnabled",null),t([r({type:Number,json:{write:!0}})],s.prototype,"displayUTCOffset",void 0),t([u("displayUTCOffset")],s.prototype,"writeDisplayUTCOffset",null),s=h=t([d("esri.webscene.SunLighting")],s);const y=s;var w;let i=w=class extends c{constructor(e){super(e),this.type="virtual",this.directShadowsEnabled=!1}clone(){return new w(this.cloneConstructProperties())}cloneConstructProperties(){return{directShadowsEnabled:this.directShadowsEnabled}}};t([r({readOnly:!0,type:["virtual"],json:{write:!0}})],i.prototype,"type",void 0),t([r({type:Boolean,json:{default:!1,name:"directShadows",write:!0}})],i.prototype,"directShadowsEnabled",void 0),i=w=t([d("esri.webscene.VirtualLighting")],i);const C=i,B={key:"type",defaultKeyValue:"sun",base:null,typeMap:{sun:y,virtual:C}};let p=class extends c{constructor(o){super(o)}clone(){}};t([r({readOnly:!0,json:{read:!1}})],p.prototype,"type",void 0),p=t([d("esri.webscene.background.Background")],p);const $=p;var b;const M={...O,nonNullable:!0};let l=b=class extends ${constructor(e){super(e),this.type="color",this.color=new D([0,0,0,1])}clone(){return new b(this.cloneProperties())}cloneProperties(){return{color:this.color.clone()}}};t([j({color:"color"},{readOnly:!0})],l.prototype,"type",void 0),t([r(M)],l.prototype,"color",void 0),l=b=t([d("esri.webscene.background.ColorBackground")],l);const L=l,m={base:$,key:"type",typeMap:{color:L}};function V(e){return(o,n,P)=>{if(!o)return o;for(const f in e.typeMap)if(o.type===f){const v=new e.typeMap[f];return v.read(o,P),v}}}const K={types:m,json:{read:V(m),write:{overridePolicy:(e,o,n)=>({enabled:!n||!n.isPresentation})}}};var g;const S=(e,o,n)=>({enabled:!n||!n.isPresentation});let a=g=class extends c{constructor(e){super(e),this.lighting=new y,this.background=null,this.atmosphereEnabled=!0,this.starsEnabled=!0}set weather(e){x(e==null?void 0:e.type,T.getLogger(this))&&this._set("weather",e)}clone(){return new g(this.cloneConstructProperties())}cloneConstructProperties(){return{lighting:this.lighting&&this.lighting.type==="virtual"?C.prototype.clone.call(this.lighting):y.prototype.clone.call(this.lighting),background:k(this.background),atmosphereEnabled:this.atmosphereEnabled,starsEnabled:this.starsEnabled,weather:this.weather.clone()}}};t([r({types:B,nonNullable:!0,json:{write:!0}})],a.prototype,"lighting",void 0),t([r(K)],a.prototype,"background",void 0),t([r({type:Boolean,nonNullable:!0,json:{write:{overridePolicy:S}}})],a.prototype,"atmosphereEnabled",void 0),t([r({type:Boolean,nonNullable:!0,json:{write:{overridePolicy:S}}})],a.prototype,"starsEnabled",void 0),t([r({types:U,nonNullable:!0,json:{write:!0},value:new N})],a.prototype,"weather",null),a=g=t([d("esri.webscene.Environment")],a);const z=a;export{C as a,z as b,L as c,B as i,y as p};
