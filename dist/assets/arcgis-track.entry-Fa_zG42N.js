import{aA as n,aB as e,aC as o,aD as s}from"./index-8ERthB3p.js";import{_ as a,i as r}from"./index-f6afcedb-CZuD5wYN.js";import{r as c,c as d,a as h}from"./component-utils-858627d8-DRqmNtSu.js";import{o as l}from"./disconnected-e221dd46-DyoRKtII.js";/*!
 * All material copyright Esri, All Rights Reserved, unless otherwise specified.
 * See https://js.arcgis.com/4.29/esri/copyright.txt for details.
 * v4.29.10
 */const g="",f=class{constructor(i){n(this,i),this.arcgisTrackReady=e(this,"arcgisTrackReady",7),this.trackComplete=e(this,"trackComplete",7),this.trackError=e(this,"trackError",7),this._watchHandles=[],this.referenceElement=void 0,this.error=void 0,this.geolocationOptions=void 0,this.goToLocationEnabled=!0,this.graphic=void 0,this.icon=void 0,this.positionFilterFunction=void 0,this.rotationEnabled=!0,this.scale=void 0,this.state="disabled",this.tracking=!1,this.position="bottom-left",this.view=void 0,this.widget=void 0}referenceElementWatcher(i){c(this,i)}geolocationOptionsWatcher(i){i!==void 0&&this.widget&&(this.widget.geolocationOptions=i)}goToLocationEnabledWatcher(i){i!==void 0&&this.widget&&(this.widget.goToLocationEnabled=i)}graphicWatcher(i){this.widget&&(this.widget.graphic=i)}iconWatcher(i){i!==void 0&&this.widget&&(this.widget.icon=i,this.widget.iconClass=i)}positionFilterFunctionWatcher(i){this.widget&&(this.widget.viewModel.positionFilterFunction=i)}rotationEnabledWatcher(i){i!==void 0&&this.widget&&(this.widget.rotationEnabled=i)}scaleWatcher(i){i!==void 0&&this.widget&&(this.widget.scale=i)}positionWatcher(i){i!==void 0&&this.widget&&this.view.ui.move(this.childElem,i)}viewWatcher(i){i!==void 0&&this.widget&&(this.widget.view=i)}async start(){this.widget.start()}async stop(){this.widget.stop()}async componentDidLoad(){const i=this._createParams(),t=await a(i);this.widget=t,await this._addWatchers(),this._proxyEvents(),this._addContainer(),this.arcgisTrackReady.emit(),d(this)}disconnectedCallback(){l(this)}render(){return o("div",{ref:i=>this.childElem=i})}_addContainer(){this.widget.container=this.childElem}async _addWatchers(){const{watch:i}=await r();h(this,[i(()=>this.widget.viewModel.error,t=>this.error=t),i(()=>this.widget.viewModel.state,t=>this.state=t),i(()=>this.widget.tracking,t=>this.tracking=t,{initial:!0})])}_createParams(){const i={};return this.geolocationOptions!==void 0&&(i.geolocationOptions=this.geolocationOptions),this.goToLocationEnabled!==void 0&&(i.goToLocationEnabled=this.goToLocationEnabled),this.graphic!==void 0&&(i.graphic=this.graphic),this.icon!==void 0&&(i.icon=this.icon,i.iconClass=this.icon),this.positionFilterFunction!==void 0&&(i.viewModel={positionFilterFunction:this.positionFilterFunction}),this.rotationEnabled!==void 0&&(i.rotationEnabled=this.rotationEnabled),this.scale!==void 0&&(i.scale=this.scale),this.view&&(i.view=this.view),i}_proxyEvents(){this.widget.on("track",i=>this.trackComplete.emit(i)),this.widget.on("track-error",i=>this.trackError.emit(i))}get el(){return s(this)}static get watchers(){return{referenceElement:["referenceElementWatcher"],geolocationOptions:["geolocationOptionsWatcher"],goToLocationEnabled:["goToLocationEnabledWatcher"],graphic:["graphicWatcher"],icon:["iconWatcher"],positionFilterFunction:["positionFilterFunctionWatcher"],rotationEnabled:["rotationEnabledWatcher"],scale:["scaleWatcher"],position:["positionWatcher"],view:["viewWatcher"]}}};f.style=g;export{f as arcgis_track};
