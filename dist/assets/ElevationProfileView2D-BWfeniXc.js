import{fY as n,cX as a,cB as l,a0 as d,ju as u,cr as h,ej as s,gJ as m}from"./index-8ERthB3p.js";import{t as g}from"./ElevationProfile-Ds6SYnTP.js";import{a as _}from"./HoveredPoints-0-jXO6Mx.js";import{n as c}from"./layerViewUtils-Bi2wmOiN.js";import"./memoize-DsJmrG76.js";import"./jsxFactory-BxQYPm-b.js";import"./ByteSizeUnit-BsxeN7wM.js";import"./ElevationQueryTileCache-CV2Fph_A.js";import"./projectVectorToVector-C3SBBDgz.js";import"./projectPointToVector-qKp-AJ2b.js";import"./LayerConstants-B33OP6sh.js";import"./Material-DwPnlQDw.js";import"./interfaces-B8ge7Jg9.js";import"./basicInterfaces-DngWxyLO.js";import"./ContentObject-BTgEhnct.js";import"./VertexAttribute-BnAa5VW0.js";import"./ViewingMode-Dodu7ZZk.js";import"./Util-B8vYs4k8.js";import"./vec2f64-Diu2Kaa8.js";import"./ElevationProvider-Bd4qfXCi.js";import"./mat4f64-Dk4dwAN8.js";import"./sphere-Bf4ezJdT.js";import"./ObjectStack-BPo9QGhV.js";import"./plane-Du3EYICn.js";import"./mat3f64-BBpwCtoL.js";import"./quatf64-BrpT0VRp.js";import"./mathUtils-iSLnUy_4.js";import"./boundedPlane-CLJ-Xnn_.js";import"./lineSegment-DVvvMBnG.js";import"./verticalOffsetUtils-BYv4Nk2v.js";import"./mat3-CqxUQBLP.js";import"./orientedBoundingBox-BQvYwCTM.js";import"./quat-DUnoL8dP.js";import"./spatialReferenceEllipsoidUtils-CmEPjh7T.js";import"./computeTranslationToOriginAndRotation-BbJd4iYX.js";import"./Attribute-B-NAci_J.js";import"./Intersector-8rpRuT_8.js";import"./Intersector-CTjLkyei.js";import"./defaultUnit-gjMTMp_C.js";import"./getDefaultUnitForView-BEilgbp7.js";import"./throttle-jjSnxk80.js";import"./elevationInfoUtils-sHEwmo9N.js";import"./vec2-Dt9Foiri.js";import"./geodesicUtils-D1kRRrco.js";import"./QueueProcessor-DFkcFyJt.js";import"./ReactiveMap-C-O0lKvJ.js";import"./signal-DoM1gSF0.js";import"./Scheduler-DaHJO6l7.js";import"./debugFlags-BbJIqrPU.js";import"./RenderState-DaVlEYWY.js";import"./traversalUtils-DmE6QkgJ.js";import"./ElevationQuery-CP-aI38G.js";import"./ElevationSamplerData-CC_B5wrl.js";import"./TileKey-DZd6gJy7.js";import"./GraphicsLayer-CapLCpoe.js";import"./GraphicsCollection-CKieR40M.js";import"./screenUtils-BuM_Fswi.js";import"./SketchViewModel-DKgcTZ3K.js";import"./layerUtils-BS1Di3Pm.js";import"./angularMeasurementUtils-CATp35qy.js";import"./geometry2dUtils-DoOkpuKA.js";import"./Cyclical-BY9qISY1.js";import"./quantityUtils-9zDVxeky.js";import"./SketchLabelOptions-BnZB654u.js";import"./SnappingManager-DUlqpdAB.js";import"./UpdatingHandles-ugzlsvZF.js";import"./floorFilterUtils-DZ5C6FQv.js";import"./viewUtils-DC86MEAQ.js";import"./geometryEngine-MBwx6Ib1.js";import"./geometryEngineBase-Cz__5BKm.js";import"./_commonjsHelpers-DCkdB7M8.js";import"./hydrated-7yclY7Co.js";import"./projectVectorToWGS84ComparableLonLat-DuPw0-Mv.js";import"./geodesicMeasurementUtils-BcTpN3Xi.js";import"./hitTestSelectUtils-UXJPjatw.js";import"./unitFormatUtils-3MMEFLJJ.js";import"./substitute-DkE5N3Tl.js";import"./UnitSelect-vwLT4dGV.js";import"./globalCss-DfZw-NIf.js";import"./AnchorElementViewModel-Bb21xlFI.js";class v{constructor(t){this._params=t,this._highlightTask=null,this._highlightHandle=null}destroy(){this.remove()}remove(){this._highlightTask=n(this._highlightTask),this._highlightHandle=a(this._highlightHandle)}update(t){if(this.remove(),t==null||!w(t))return;const o=t.layer;this._highlightTask=l(async i=>{const p=await this._params.view.whenLayerView(o);d(i);const e=c(p)?p:null;e&&(this._highlightHandle=e.highlight(t))})}}function w(r){return r.geometry!=null&&r.geometry.type==="polyline"}class Ft{constructor(t,o){this._handles=new u,this._inputRepresentation=new v({view:t}),this._hoveredPoints=new _({view:t}),this._handles.add([h(()=>o.viewModel.hoveredPoints,i=>this._hoveredPoints.update(i),s),h(()=>{const{state:i,highlightEnabled:p,viewModel:e}=o;return{input:e.input,state:i,highlightEnabled:p}},i=>this._updateInputRepresentation(i),s)])}destroy(){this._handles=m(this._handles),this._inputRepresentation=m(this._inputRepresentation),this._hoveredPoints=m(this._hoveredPoints)}_updateInputRepresentation({input:t,state:o,highlightEnabled:i}){o===g.Selected&&i?this._inputRepresentation.update(t):this._inputRepresentation.remove()}}export{Ft as ElevationProfileView2D};
