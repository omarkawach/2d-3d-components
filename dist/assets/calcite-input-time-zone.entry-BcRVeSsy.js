function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{r as y,e as m,h,H as L,g as E,_ as g}from"./index-8ERthB3p.js";import{c as F,d as M}from"./label-ce4d8e83-DSRVKKBm.js";import{u as P,I as S}from"./interactive-a992f5df-DKTznAlu.js";import{c as w,d as _,b as B}from"./locale-ccbc05e8-Cx61mxV1.js";import{u as V,c as z,d as k,s as N}from"./t9n-e5ee6b09-BmFnC5TI.js";import{c as R,s as U,a as A}from"./loadable-0092c6b2-CCLLZPvP.js";import{c as H,d as W,a as G,H as $}from"./form-3f199679-n9hgX90j.js";import"./dom-bea5da81-_E6DDA15.js";import"./guid-9a252389-Cgw_FQNn.js";import"./component-ec9f9062-CiBiWYk6.js";import"./browser-26f0727c-UGQ_wQp7.js";import"./key-c94e53b5-wu7cp3Vu.js";import"./observers-fe652afa-BKcjSNKG.js";const j=60,C=["CET","CST6CDT","EET","EST","EST5EDT","Factory","HST","MET","MST","MST7MDT","PST8PDT","UTC","WET"];function v(e){return e.replace(":15",".25").replace(":30",".5").replace(":45",".75").replace("âˆ’","-")}function q(e,t){const o=D(e,"en-US",t).replace("GMT","");return o===""?0:Number(v(o))*j}function J(){return new Date().getTimezoneOffset()*-1}function K(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}let b;async function Q(e,t,o,a){const c=a.getTime(),d=Intl.supportedValuesOf("timeZone");return o==="offset"?(b||(b=Promise.all([g(()=>import("./index-ba81c72a-BYhPXUU9.js"),__vite__mapDeps([])),g(()=>import("./index-1e9a7cab-B3na-vWB.js"),__vite__mapDeps([]))])),b.then(async([{groupTimeZones:l},{DateEngine:T}])=>{const u=await l({dateEngine:new T,groupDateRange:1,startDate:new Date(c).toISOString()}),O=new Intl.ListFormat(e,{style:"long",type:"conjunction"});return u.forEach(s=>{const n=[];let r=0;s.tzs.forEach((i,f)=>{C.includes(i)&&r++,n[f]=r}),s.tzs=s.tzs.filter(i=>!C.includes(i)),s.labelTzIndices=s.labelTzIndices.map(i=>i-n[i]).filter(i=>i>=0&&i<s.tzs.length)}),u.map(({labelTzIndices:s,tzs:n})=>{const r=n[0],i=v(D(r,e,c)),f=q(r,c),x=s.map(p=>{const I=n[p];return t[I]||I.split("/").pop()});return{label:X(t,i,O.format(x)),value:f,filterValue:n.map(p=>Z(p))}}).filter(s=>!!s).sort((s,n)=>s.value-n.value)})):d.map(l=>({label:Z(l),value:l,filterValue:l})).filter(l=>!!l).sort()}function Z(e){return e.replace(/_/g," ")}function X(e,t,o){return e.timeZoneLabel.replace("{offset}",t).replace("{cities}",o)}function D(e,t,o=Date.now()){return B(t,{timeZone:e,timeZoneName:"shortOffset"}).formatToParts(o).find(({type:d})=>d==="timeZoneName").value}const Y=":host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:block}:host([hidden]){display:none}[hidden]{display:none}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}::slotted(input[slot=hidden-form-input]){margin:0 !important;opacity:0 !important;outline:none !important;padding:0 !important;position:absolute !important;inset:0 !important;transform:none !important;-webkit-appearance:none !important;z-index:-1 !important}",ee=class{constructor(e){y(this,e),this.calciteInputTimeZoneBeforeClose=m(this,"calciteInputTimeZoneBeforeClose",6),this.calciteInputTimeZoneBeforeOpen=m(this,"calciteInputTimeZoneBeforeOpen",6),this.calciteInputTimeZoneChange=m(this,"calciteInputTimeZoneChange",6),this.calciteInputTimeZoneClose=m(this,"calciteInputTimeZoneClose",6),this.calciteInputTimeZoneOpen=m(this,"calciteInputTimeZoneOpen",6),this.setComboboxRef=t=>{this.comboboxEl=t},this.onComboboxBeforeClose=t=>{t.stopPropagation(),this.calciteInputTimeZoneBeforeClose.emit()},this.onComboboxBeforeOpen=t=>{t.stopPropagation(),this.calciteInputTimeZoneBeforeOpen.emit()},this.onComboboxChange=t=>{t.stopPropagation();const o=t.target,a=this.findTimeZoneItem(o.selectedItems[0].getAttribute("data-value")),c=`${a.value}`;this.value!==c&&(this.value=c,this.selectedTimeZoneItem=a,this.calciteInputTimeZoneChange.emit())},this.onComboboxClose=t=>{t.stopPropagation(),this.open=!1,this.calciteInputTimeZoneClose.emit()},this.onComboboxOpen=t=>{this.open=!0,t.stopPropagation(),this.calciteInputTimeZoneOpen.emit()},this.disabled=!1,this.form=void 0,this.maxItems=0,this.messages=void 0,this.messageOverrides=void 0,this.mode="offset",this.validationMessage=void 0,this.validationIcon=void 0,this.name=void 0,this.open=!1,this.overlayPositioning="absolute",this.referenceDate=void 0,this.required=!1,this.scale="m",this.status="idle",this.value=void 0,this.defaultMessages=void 0,this.effectiveLocale=""}onMessagesChange(){}handleTimeZoneItemPropsChange(){this.updateTimeZoneItemsAndSelection()}handleValueChange(e,t){const o=this.findTimeZoneItem(e);if(!o){this.value=t;return}this.selectedTimeZoneItem=o}async setFocus(){await R(this),await this.comboboxEl.setFocus()}effectiveLocaleWatcher(){V(this,this.effectiveLocale)}onLabelClick(){this.setFocus()}findTimeZoneItem(e){const t=e;return this.timeZoneItems.find(({value:o})=>o==t)}async updateTimeZoneItemsAndSelection(){this.timeZoneItems=await this.createTimeZoneItems();const e=this.mode==="offset"?J():K(),t=this.value??e;this.selectedTimeZoneItem=this.findTimeZoneItem(t),this.selectedTimeZoneItem||(this.selectedTimeZoneItem=this.findTimeZoneItem(e))}async createTimeZoneItems(){return!this.effectiveLocale||!this.messages?[]:Q(this.effectiveLocale,this.messages,this.mode,this.referenceDate instanceof Date?this.referenceDate:new Date(this.referenceDate??Date.now()))}connectedCallback(){H(this),F(this),w(this),z(this)}disconnectedCallback(){W(this),M(this),_(this),k(this)}async componentWillLoad(){U(this),await N(this),await this.updateTimeZoneItemsAndSelection();const e=`${this.selectedTimeZoneItem.value}`;G(this,e),this.value=e}componentDidLoad(){A(this)}componentDidRender(){P(this)}render(){return h(L,null,h(S,{disabled:this.disabled},h("calcite-combobox",{clearDisabled:!0,disabled:this.disabled,label:this.messages.chooseTimeZone,lang:this.effectiveLocale,maxItems:this.maxItems,onCalciteComboboxBeforeClose:this.onComboboxBeforeClose,onCalciteComboboxBeforeOpen:this.onComboboxBeforeOpen,onCalciteComboboxChange:this.onComboboxChange,onCalciteComboboxClose:this.onComboboxClose,onCalciteComboboxOpen:this.onComboboxOpen,open:this.open,overlayPositioning:this.overlayPositioning,scale:this.scale,selectionMode:"single-persist",status:this.status,"validation-icon":this.validationIcon,"validation-message":this.validationMessage,ref:this.setComboboxRef},this.timeZoneItems.map(e=>{const t=this.selectedTimeZoneItem===e,{label:o,value:a}=e;return h("calcite-combobox-item",{"data-value":a,key:o,selected:t,textLabel:o,value:`${e.filterValue}`})})),h($,{component:this})))}static get delegatesFocus(){return!0}static get assetsDirs(){return["assets"]}get el(){return E(this)}static get watchers(){return{messageOverrides:["onMessagesChange"],messages:["handleTimeZoneItemPropsChange"],mode:["handleTimeZoneItemPropsChange"],referenceDate:["handleTimeZoneItemPropsChange"],value:["handleValueChange"],effectiveLocale:["effectiveLocaleWatcher"]}}};ee.style=Y;export{ee as calcite_input_time_zone};
