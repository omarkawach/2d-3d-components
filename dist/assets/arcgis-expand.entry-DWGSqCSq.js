import{aA as t,aB as s,aC as a,aD as n}from"./index-8ERthB3p.js";import{a6 as o,i as d}from"./index-f6afcedb-CZuD5wYN.js";import{r as c,a as h}from"./component-utils-858627d8-DRqmNtSu.js";import{o as l}from"./disconnected-e221dd46-DyoRKtII.js";/*!
 * All material copyright Esri, All Rights Reserved, unless otherwise specified.
 * See https://js.arcgis.com/4.29/esri/copyright.txt for details.
 * v4.29.10
 */const r="arcgis-expand>.esri-expand__content--expanded{background-color:var(--calcite-color-background)}",p=class{constructor(e){t(this,e),this.arcgisExpandReady=s(this,"arcgisExpandReady",7),this._watchHandles=[],this.autoCollapse=!1,this.closeOnEsc=!0,this.collapseIcon=void 0,this.collapseTooltip=void 0,this.expanded=!1,this.expandIcon=void 0,this.expandTooltip=void 0,this.group=void 0,this.iconNumber=void 0,this.mode="auto",this.referenceElement=void 0,this.position="top-right",this.view=void 0,this.widget=void 0}autoCollapseWatcher(e){e!==void 0&&this.widget&&(this.widget.autoCollapse=e)}closeOnEscWatcher(e){e!==void 0&&this.widget&&(this.widget.closeOnEsc=e)}collapseIconWatcher(e){this.widget&&(this.widget.collapseIcon=e,this.widget.collapseIconClass=e)}collapseTooltipWatcher(e){this.widget&&(this.widget.collapseTooltip=e)}expandedWatcher(e){this.widget&&this.widget.expanded!==e&&(this.widget.expanded=e)}expandIconWatcher(e){this.widget&&(this.widget.expandIcon=e,this.widget.expandIconClass=e)}expandTooltipWatcher(e){this.widget&&(this.widget.expandTooltip=e)}groupWatcher(e){this.widget&&(this.widget.group=e)}iconNumberWatcher(e){e!==void 0&&this.widget&&(this.widget.iconNumber=e)}modeWatcher(e){this.widget&&(this.widget.mode=e)}referenceElementWatcher(e){c(this,e)}positionWatcher(e){e!==void 0&&this.widget&&this.view.ui.move(this.childElem,e)}viewWatcher(e){e!==void 0&&this.widget&&(this.widget.view=e)}async collapse(){var e;(e=this.widget)==null||e.collapse()}async expand(){var e;(e=this.widget)==null||e.expand()}async toggle(){this.expanded?await this.collapse():await this.expand()}async componentDidLoad(){const e=this._createParams(),i=await o(e);this.widget=i,await this._addWatchers(),this._addContainer(),this.arcgisExpandReady.emit(),this._checkForView()}disconnectedCallback(){l(this)}render(){return a("div",{ref:e=>this.childElem=e})}_addContainer(){this.widget.container=this.childElem}async _addWatchers(){const{watch:e}=await d();h(this,[e(()=>this.widget.expanded,i=>this.expanded=i)])}_createParams(){const e={};return this.autoCollapse!==void 0&&(e.autoCollapse=this.autoCollapse),this.closeOnEsc!==void 0&&(e.closeOnEsc=this.closeOnEsc),this.collapseIcon&&(e.collapseIcon=this.collapseIcon,e.collapseIconClass=this.collapseIcon),this.collapseTooltip&&(e.collapseTooltip=this.collapseTooltip),this.expanded!==void 0&&(e.expanded=this.expanded),this.expandIcon&&(e.expandIcon=this.expandIcon,e.expandIconClass=this.expandIcon),this.expandTooltip&&(e.expandTooltip=this.expandTooltip),this.group&&(e.group=this.group),this.iconNumber!==void 0&&(e.iconNumber=this.iconNumber),this.mode&&(e.mode=this.mode),this.view&&(e.view=this.view),e}_checkForView(){const e=this.el.closest("arcgis-map")??this.el.closest("arcgis-scene");if(e!=null&&e.view)this.view=e.view,this.view.ui.add(this.childElem,this.position);else if(e){const i=()=>{e.removeEventListener("arcgisViewReadyChange",i,!1),this.view=e.view,this.view.ui.add(this.childElem,this.position)};e.addEventListener("arcgisViewReadyChange",i,!1)}}get el(){return n(this)}static get watchers(){return{autoCollapse:["autoCollapseWatcher"],closeOnEsc:["closeOnEscWatcher"],collapseIcon:["collapseIconWatcher"],collapseTooltip:["collapseTooltipWatcher"],expanded:["expandedWatcher"],expandIcon:["expandIconWatcher"],expandTooltip:["expandTooltipWatcher"],group:["groupWatcher"],iconNumber:["iconNumberWatcher"],mode:["modeWatcher"],referenceElement:["referenceElementWatcher"],position:["positionWatcher"],view:["viewWatcher"]}}};p.style=r;export{p as arcgis_expand};
