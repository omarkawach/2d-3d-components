import{U as h,br as p}from"./index-8ERthB3p.js";import{t as l}from"./symbolUtils-DGJEMzVR.js";import{N as u}from"./utils-j-RBNfeR.js";import"./jsxFactory-BxQYPm-b.js";import"./mat2df32-orApM5a3.js";import"./mat2d-D9yIh3Tx.js";import"./webStyleSymbolUtils-BzDS5WjL.js";import"./devEnvironmentUtils-Blrp8lZ5.js";import"./cimSymbolUtils-DwzauUMk.js";function y(i,e,t){const r=i.thumbnail&&i.thumbnail.url;return r?h(r,{responseType:"image"}).then(o=>{const m=d(o.data,t);return t!=null&&t.node?(t.node.appendChild(m),t.node):m}):u(i).then(o=>o?e(o,t):null)}function d(i,e){const t=!/\\.svg$/i.test(i.src)&&e&&e.disableUpsampling,r=Math.max(i.width,i.height);let o=(e==null?void 0:e.maxSize)!=null?p(e.maxSize):l.maxSize;t&&(o=Math.min(r,o));const m=typeof(e==null?void 0:e.size)=="number"?e==null?void 0:e.size:null,s=Math.min(o,m!=null?p(m):r);if(s!==r){const a=i.width!==0&&i.height!==0?i.width/i.height:1;a>=1?(i.width=s,i.height=s/a):(i.width=s*a,i.height=s)}return i}export{y as previewWebStyleSymbol};
