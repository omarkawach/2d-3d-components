import{aA as s,aB as n,aC as a,aD as l}from"./index-8ERthB3p.js";import{v as h,i as d}from"./index-f6afcedb-CZuD5wYN.js";import{r,c as o,a as c}from"./component-utils-858627d8-DRqmNtSu.js";import{o as m}from"./disconnected-e221dd46-DyoRKtII.js";/*!
 * All material copyright Esri, All Rights Reserved, unless otherwise specified.
 * See https://js.arcgis.com/4.29/esri/copyright.txt for details.
 * v4.29.10
 */const E="",v=class{constructor(e){s(this,e),this.arcgisFeatureReady=n(this,"arcgisFeatureReady",7),this._watchHandles=[],this.referenceElement=void 0,this.defaultPopupTemplateEnabled=!1,this.graphic=void 0,this.location=void 0,this.map=void 0,this.spatialReference=void 0,this.visibleElementsTitle=!0,this.visibleElementsContentAttachments=!0,this.visibleElementsContentFields=!0,this.visibleElementsContentMedia=!0,this.visibleElementsContentText=!0,this.visibleElementsContentExpression=!0,this.visibleElementsLastEditInfo=!0,this.position="bottom-left",this.view=void 0,this.widget=void 0}referenceElementWatcher(e){r(this,e)}defaultPopupTemplateEnabledWatcher(e){e!==void 0&&this.widget&&(this.widget.defaultPopupTemplateEnabled=e)}graphicWatcher(e){this.widget&&(this.widget.graphic=e)}locationWatcher(e){this.widget&&(this.widget.viewModel.location=e)}spatialReferenceWatcher(e){this.widget&&(this.widget.spatialReference=e)}visibleElementsTitleWatcher(e){this.widget&&(this.widget.visibleElements={...this.widget.visibleElements,title:e})}visibleElementsContentAttachmentsWatcher(e){this.widget&&(this.widget.visibleElements={...this.widget.visibleElements,content:{...this.widget.visibleElements.content,attachments:e}})}visibleElementsContentFieldsWatcher(e){this.widget&&(this.widget.visibleElements={...this.widget.visibleElements,content:{...this.widget.visibleElements.content,fields:e}})}visibleElementsContentMediaWatcher(e){this.widget&&(this.widget.visibleElements={...this.widget.visibleElements,content:{...this.widget.visibleElements.content,media:e}})}visibleElementsContentTextWatcher(e){this.widget&&(this.widget.visibleElements={...this.widget.visibleElements,content:{...this.widget.visibleElements.content,text:e}})}visibleElementsContentExpressionWatcher(e){this.widget&&(this.widget.visibleElements={...this.widget.visibleElements,content:{...this.widget.visibleElements.content,expression:e}})}visibleElementsLastEditInfoWatcher(e){this.widget&&(this.widget.visibleElements={...this.widget.visibleElements,lastEditInfo:e})}positionWatcher(e){e!==void 0&&this.widget&&this.view.ui.move(this.childElem,e)}viewWatcher(e){e!==void 0&&this.widget&&(this.widget.view=e)}async nextMedia(e){var t;(t=this.widget)==null||t.nextMedia(e)}async previousMedia(e){var t;(t=this.widget)==null||t.previousMedia(e)}async setActiveMedia(e,t){var i;(i=this.widget)==null||i.setActiveMedia(e,t)}async componentDidLoad(){const e=this._createParams(),t=await h(e);this.widget=t,this._addContainer(),this._setViewModelParams(),await this._addWatchers(),this.arcgisFeatureReady.emit(),o(this)}disconnectedCallback(){m(this)}render(){return a("div",{ref:e=>this.childElem=e})}_addContainer(){this.widget.container=this.childElem}async _addWatchers(){const{watch:e}=await d();c(this,e(()=>{var t;return(t=this.widget.view)==null?void 0:t.map},t=>this.map=t))}_createParams(){const e={};return e.visibleElements={title:this.visibleElementsTitle,content:{attachments:this.visibleElementsContentAttachments,fields:this.visibleElementsContentFields,media:this.visibleElementsContentMedia,text:this.visibleElementsContentText,expression:this.visibleElementsContentExpression},lastEditInfo:this.visibleElementsLastEditInfo},this.defaultPopupTemplateEnabled!==void 0&&(e.defaultPopupTemplateEnabled=this.defaultPopupTemplateEnabled),this.graphic&&(e.graphic=this.graphic),this.view&&(e.view=this.view),this.spatialReference&&(e.spatialReference=this.spatialReference),e}_setViewModelParams(){const e={};this.location&&(e.location=this.location),this.widget.viewModel.set(e)}get el(){return l(this)}static get watchers(){return{referenceElement:["referenceElementWatcher"],defaultPopupTemplateEnabled:["defaultPopupTemplateEnabledWatcher"],graphic:["graphicWatcher"],location:["locationWatcher"],spatialReference:["spatialReferenceWatcher"],visibleElementsTitle:["visibleElementsTitleWatcher"],visibleElementsContentAttachments:["visibleElementsContentAttachmentsWatcher"],visibleElementsContentFields:["visibleElementsContentFieldsWatcher"],visibleElementsContentMedia:["visibleElementsContentMediaWatcher"],visibleElementsContentText:["visibleElementsContentTextWatcher"],visibleElementsContentExpression:["visibleElementsContentExpressionWatcher"],visibleElementsLastEditInfo:["visibleElementsLastEditInfoWatcher"],position:["positionWatcher"],view:["viewWatcher"]}}};v.style=E;export{v as arcgis_feature};
