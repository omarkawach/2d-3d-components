import{dA as E,bW as g,cj as A,dm as f,cf as w,di as m,dj as d,cg as P,bX as C,a as L,bR as T,ce as Z,c4 as R,dE as z,P as D,bZ as F,fm as X,dk as l,fr as G,fc as H,dB as I,dh as J,fs as $,hQ as O,dg as k,dC as K,dl as U,ft as tt}from"./index-8ERthB3p.js";import{s as nt}from"./ObjectStack-BPo9QGhV.js";import{c as u,f as et,d as it}from"./plane-Du3EYICn.js";function M(t){return t?v(E(t.origin),E(t.direction)):v(g(),g())}function v(t,e){return{origin:t,direction:e}}function kt(t,e){return L(t.origin,e.origin)&&L(t.direction,e.direction)}function vt(t,e){const n=ct.get();return n.origin=t,n.direction=e,n}function wt(t,e=M()){return rt(t.origin,t.direction,e)}function ot(t,e,n=M()){return A(n.origin,t),f(n.direction,e,t),n}function rt(t,e,n=M()){return A(n.origin,t),A(n.direction,e),n}function Ct(t,e){const n=P(u.get(),C(u.get(),t.direction),f(u.get(),e,t.origin));return w(n,n)}function st(t,e,n){const i=w(t.direction,f(n,e,t.origin));return m(n,t.origin,d(n,t.direction,i)),n}const ct=new nt(()=>M()),ut=_();function _(){return T()}const at=Z,ft=Z;function B(t,e){return R(e,t)}function gt(t,e){return z(t[0],t[1],t[2],e)}function dt(t){return t}function lt(t){t[0]=t[1]=t[2]=t[3]=0}function ht(t,e){return t[0]=t[1]=t[2]=0,t[3]=e,t}function b(t){return t[3]}function $t(t){return t}function pt(t,e,n,i){return z(t,e,n,i)}function mt(t,e,n){return t!==n&&(n[0]=t[0],n[1]=t[1],n[2]=t[2]),n[3]=t[3]+e,n}function Mt(t,e,n){return D.getLogger("esri.geometry.support.sphere").error("sphere.setExtent is not yet supported"),t!==n&&B(t,n),n}function y(t,e,n){if(e==null||!N(t,e,p))return!1;let{t0:i,t1:o}=p;if((i<0||o<i&&o>0)&&(i=o),i<0)return!1;if(n){const{origin:r,direction:s}=e;n[0]=r[0]+s[0]*i,n[1]=r[1]+s[1]*i,n[2]=r[2]+s[2]*i}return!0}function bt(t,e,n){const i=ot(e,n);if(!N(t,i,p))return[];const{origin:o,direction:r}=i,{t0:s,t1:c}=p,a=h=>{const S=g();return tt(S,o,r,h),q(t,S,S)};return Math.abs(s-c)<F()?[a(s)]:[a(s),a(c)]}const p={t0:0,t1:0};function N(t,e,n){const{origin:i,direction:o}=e,r=yt;r[0]=i[0]-t[0],r[1]=i[1]-t[1],r[2]=i[2]-t[2];const s=o[0]*o[0]+o[1]*o[1]+o[2]*o[2];if(s===0)return!1;const c=2*(o[0]*r[0]+o[1]*r[1]+o[2]*r[2]),a=c*c-4*s*(r[0]*r[0]+r[1]*r[1]+r[2]*r[2]-t[3]*t[3]);if(a<0)return!1;const h=Math.sqrt(a);return n.t0=(-c-h)/(2*s),n.t1=(-c+h)/(2*s),!0}const yt=g();function St(t,e){return y(t,e,null)}function xt(t,e,n){if(y(t,e,n))return n;const i=Q(t,e,u.get());return m(n,e.origin,d(u.get(),e.direction,X(e.origin,i)/l(e.direction))),n}function Q(t,e,n){const i=u.get(),o=et.get();P(i,e.origin,e.direction);const r=b(t);P(n,i,e.origin),d(n,n,1/l(n)*r);const s=V(t,e.origin),c=it(e.origin,n);return G(o,c+s,i),H(n,n,o),n}function At(t,e,n){return y(t,e,n)?n:(st(e,t,n),q(t,n,n))}function q(t,e,n){const i=f(u.get(),e,t),o=d(u.get(),i,t[3]/l(i));return m(n,o,t)}function Pt(t,e){const n=f(u.get(),e,t),i=I(n),o=t[3]*t[3];return Math.sqrt(Math.abs(i-o))}function V(t,e){const n=f(u.get(),e,t),i=l(n),o=b(t),r=o+Math.abs(o-i);return J(o/r)}const x=g();function W(t,e,n,i){const o=f(x,e,t);switch(n){case $.X:{const r=O(o,x)[2];return k(i,-Math.sin(r),Math.cos(r),0)}case $.Y:{const r=O(o,x),s=r[1],c=r[2],a=Math.sin(s);return k(i,-a*Math.cos(c),-a*Math.sin(c),Math.cos(s))}case $.Z:return C(i,o);default:return}}function Y(t,e){const n=f(j,e,t);return l(n)-t[3]}function Rt(t,e,n,i){const o=Y(t,e),r=W(t,e,$.Z,j),s=d(j,r,n-o);return m(i,e,s)}function jt(t,e){const n=K(t,e),i=b(t);return n<=i*i}function _t(t,e,n=T()){const i=X(t,e),o=t[3],r=e[3];return i+r<o?(R(n,t),n):i+o<r?(R(n,e),n):(U(n,t,e,(i+r-o)/(2*i)),n[3]=(i+o+r)/2,n)}const j=g(),qt=_(),Tt=Object.freeze(Object.defineProperty({__proto__:null,NullSphere:ut,altitudeAt:Y,angleToSilhouette:V,axisAt:W,clear:lt,closestPoint:At,closestPointOnSilhouette:Q,containsPoint:jt,copy:B,create:_,distanceToSilhouette:Pt,elevate:mt,equals:ft,exactEquals:at,fromCenterAndRadius:gt,fromRadius:ht,fromValues:pt,getCenter:$t,getRadius:b,intersectLine:bt,intersectRay:y,intersectRayClosestSilhouette:xt,intersectsRay:St,projectPoint:q,setAltitudeAt:Rt,setExtent:Mt,tmpSphere:qt,union:_t,wrap:dt},Symbol.toStringTag,{value:"Module"}));export{Pt as $,pt as B,bt as D,at as E,St as I,Q as K,ht as N,B as O,gt as T,b as V,q as W,y as Y,$t as Z,ut as _,dt as a,rt as b,qt as c,M as d,_t as i,kt as j,wt as k,ot as l,vt as p,jt as s,Tt as u,Ct as v,_ as w};
